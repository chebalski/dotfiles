#!/usr/bin/env bash

# init fasd
eval "$(fasd --init auto)"

# init commacd
source ~/.commacd.bash

# init fzf
[ -f .fzf/install ] && .fzf/install --key-bindings --completion --no-update-rc &> /dev/null
[ -f ~/.fzf.bash ] && source ~/.fzf.bash

# vim
mkdir -p ~/.vim/autoload ~/.vim/bundle && \
    curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim

# AWS autocomplete
complete -C '/usr/local/bin/aws_completer' aws

path_append() {
    if [ -d "$1" ] && [[ ! "$PATH" =~ (^|:)$1(:|$) ]]; then
      export PATH="${PATH:+"$PATH:"}$1";
    fi
}
export -f path_append

# prepend to $PATH
path_prepend() {
    if [ -d "$1" ] && [[ ! "$PATH" =~ (^|:)$1(:|$) ]]; then
        export PATH="$1${PATH+":$PATH"}";
    fi
}
export -f path_prepend
